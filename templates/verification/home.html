{% extends "base.html" %}

{% block title %}會員驗證 - VPass{% endblock %}

{% block content %}
<div class="page-header animate-fade-in">
    <div class="page-header-content">
        <div class="page-header-text">
            <h1 class="page-title">會員驗證</h1>
            <p class="page-subtitle">選擇活動開始掃描會員卡片</p>
        </div>
    </div>
</div>

{% if events.is_empty() %}
    <div class="empty-state animate-fade-in stagger-1">
        <div class="empty-icon">
            <i class="bi bi-qr-code-scan"></i>
        </div>
        <h3 class="empty-title">尚無可驗證的活動</h3>
        <p class="empty-description">
            目前沒有可供驗證的活動<br>
            請先建立活動後再開始驗證流程
        </p>
        <a href="/events/new" class="btn btn-primary">
            <i class="bi bi-calendar-event-fill"></i>
            <span>建立新活動</span>
        </a>
    </div>
{% else %}
    <div class="card-grid">
        {% for event in events %}
            <a href="/verify/{{ event.id }}/scanner" class="content-card verification-event-card animate-fade-in stagger-{{ loop.index }}">
                <div class="card-corner"></div>

                <div class="card-content">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem;">
                        <div style="width: 56px; height: 56px; border-radius: 12px; background: linear-gradient(135deg, var(--color-ink), var(--color-cyan)); color: white; display: flex; align-items: center; justify-content: center; font-size: 2rem; flex-shrink: 0;">
                            <i class="bi bi-qr-code-scan"></i>
                        </div>
                        <div style="flex: 1; min-width: 0;">
                            <h3 class="card-title" style="margin-bottom: 0.25rem;">{{ event.event_name }}</h3>
                            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--color-slate); font-size: 0.875rem;">
                                <i class="bi bi-calendar3"></i>
                                <span>{{ event.event_date }}</span>
                            </div>
                        </div>
                    </div>

                    <div style="background: linear-gradient(135deg, rgba(0, 217, 255, 0.08), rgba(26, 31, 58, 0.08)); border-radius: 8px; padding: 1rem;">
                        <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
                            <div style="text-align: center; flex: 1;">
                                <div style="font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-slate); margin-bottom: 0.375rem;">
                                    準備驗證
                                </div>
                                <div style="font-family: var(--font-display); font-size: 1.75rem; font-weight: 800; color: var(--color-ink); line-height: 1;">
                                    <i class="bi bi-check-circle-fill" style="color: var(--color-cyan);"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem; display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem;">
                        <span style="color: var(--color-slate); font-weight: 600; font-size: 0.9375rem;">開始掃描</span>
                        <i class="bi bi-arrow-right" style="color: var(--color-mist); font-size: 1.5rem; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);" class="card-arrow-icon"></i>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
{% endif %}
{% endblock %}

{% block extra_head %}
<style>
.verification-event-card:hover {
    border-color: var(--color-ink);
}

.verification-event-card:hover .card-corner {
    border-right-color: var(--color-ink);
}

.verification-event-card .card-arrow-icon {
    color: var(--color-mist);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.verification-event-card:hover .card-arrow-icon {
    color: var(--color-ink);
    transform: translateX(4px);
}

/* Limit stagger animations */
.stagger-7, .stagger-8, .stagger-9, .stagger-10 {
    animation-delay: 0.6s;
}
</style>
{% endblock %}
