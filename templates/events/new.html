{% extends "base.html" %}

{% block title %}建立新活動{% endblock %}

{% block content %}
<div class="page-header animate-fade-in">
    <nav class="breadcrumb-nav">
        <a href="/events" class="breadcrumb-link">← 返回活動列表</a>
    </nav>
    <div class="page-header-content">
        <div class="page-header-text">
            <h1 class="page-title">建立新活動</h1>
            <p class="page-subtitle">設定活動資訊以開始會員驗證</p>
        </div>
    </div>
</div>

<div class="container" style="max-width: 800px; margin: 0 auto; padding: 0 1rem 3rem;">
    <form method="post" action="/events/create">
        <div class="form-section animate-fade-in stagger-1">
            <div class="form-section-header">
                <span class="section-number">01</span>
                <h3 class="section-title">活動資訊</h3>
            </div>

            <div class="form-field">
                <label class="field-label required" for="issuer_id">所屬頻道</label>
                <select class="field-select" name="issuer_id" id="issuer_id" required>
                    <option value="">請選擇頻道...</option>
                    {% for issuer in issuers %}
                    <option value="{{ issuer.id }}">{{ issuer.channel_name }}</option>
                    {% endfor %}
                </select>
                <span class="field-hint">
                    <i class="bi bi-info-circle"></i>
                    選擇此活動對應的頻道發行者
                </span>
            </div>

            <div class="form-field">
                <label class="field-label required" for="event_name">活動名稱</label>
                <input
                    class="field-input"
                    type="text"
                    name="event_name"
                    id="event_name"
                    placeholder="例如：2024 粉絲見面會"
                    required
                >
                <span class="field-hint">
                    <i class="bi bi-info-circle"></i>
                    為您的活動取一個清楚易懂的名稱
                </span>
            </div>

            <div class="form-field">
                <label class="field-label required" for="event_date">活動日期</label>
                <input
                    class="field-input"
                    type="date"
                    name="event_date"
                    id="event_date"
                    required
                >
                <span class="field-hint">
                    <i class="bi bi-calendar3"></i>
                    活動舉辦日期
                </span>
            </div>
        </div>

        <div class="form-section animate-fade-in stagger-2">
            <div class="form-section-header">
                <span class="section-number">02</span>
                <h3 class="section-title">驗證設定</h3>
            </div>

            <div class="form-field">
                <label class="field-label required" for="verifier_ref">驗證服務代碼</label>
                <input
                    class="field-input"
                    type="text"
                    name="verifier_ref"
                    id="verifier_ref"
                    placeholder="例如：00000000_chimapp"
                    required
                >
                <span class="field-hint">
                    <i class="bi bi-shield-check"></i>
                    請到<a href="https://verifier-sandbox.wallet.gov.tw/" target="_blank">驗證端沙盒系統</a>建立 VP 以取得驗證服務代碼
                </span>
            </div>
        </div>

        <!-- Section 03: 確認 -->
        <div class="form-section animate-fade-in stagger-3" style="background: rgba(0, 217, 255, 0.03); border-color: rgba(0, 217, 255, 0.2);">
            <div style="display: flex; align-items: start; gap: 1rem;">
                <i class="bi bi-lightbulb-fill" style="font-size: 1.5rem; color: var(--color-cyan); flex-shrink: 0;"></i>
                <div>
                    <h4 style="font-family: var(--font-display); font-size: 1.125rem; font-weight: 700; color: var(--color-ink); margin-bottom: 0.5rem;">
                        準備好了嗎？
                    </h4>
                    <p style="font-size: 0.9375rem; color: var(--color-slate); line-height: 1.6; margin: 0;">
                        建立活動後，您就可以開始使用 QR 掃描器驗證會員身份。您可以隨時回來編輯活動資訊或查看統計數據。
                    </p>
                </div>
            </div>
        </div>

        <!-- Submit Actions -->
        <div class="animate-fade-in stagger-4" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
            <a href="/events" class="btn btn-ghost">
                <i class="bi bi-x-circle"></i>
                取消
            </a>
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-check-circle"></i>
                建立活動
            </button>
        </div>
    </form>
</div>

<style>
.field-hint {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.8125rem;
    color: var(--color-slate);
    margin-top: 0.5rem;
}

.field-hint i {
    font-size: 0.875rem;
    color: var(--color-cyan);
}

</style>
{% endblock %}
