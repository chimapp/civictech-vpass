{% extends "base.html" %}

{% block title %}{{ event.event_name }}{% endblock %}

{% block content %}
<nav aria-label="上一頁">
    <a href="/events">返回活動</a>
</nav>

<header>
    <h1>{{ event.event_name }}</h1>
    <p>活動詳情</p>
</header>

<section aria-label="活動資料">
    <dl>
        <dt>頻道</dt>
        <dd>{{ issuer.channel_name }}</dd>
        <dt>日期</dt>
        <dd>{{ event.event_date }}</dd>
        {% match event.event_location %}
            {% when Some with (loc) %}
                <dt>地點</dt>
                <dd>{{ loc }}</dd>
            {% when None %}
        {% endmatch %}
        {% match event.event_description %}
            {% when Some with (desc) %}
                <dt>描述</dt>
                <dd>{{ desc }}</dd>
            {% when None %}
        {% endmatch %}
    </dl>
</section>

<section aria-label="驗證統計">
    <h2>驗證統計</h2>
    <dl>
        <dt>總掃描次數</dt>
        <dd>{{ stats.total_scans }}</dd>
        <dt>成功</dt>
        <dd>{{ stats.successful_scans }}</dd>
        <dt>失敗</dt>
        <dd>{{ stats.failed_scans }}</dd>
        <dt>唯一卡片</dt>
        <dd>{{ stats.unique_cards }}</dd>
    </dl>
</section>

<section aria-label="操作">
    <ul>
        <li><a href="/verify/{{ event.id }}/scanner">開始掃描器</a></li>
        <li><a href="/verify/{{ event.id }}/history">查看歷史記錄</a></li>
    </ul>
</section>
{% endblock %}
